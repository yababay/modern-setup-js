# Шаблон для разработки на TypeScript

![Скриншот](./bender-rodriguez.jpg)


## С чистого листа

Этот шаблон, оптимизированный для разработки на TypeScript
с преднастроенным тестированием (`Jest`) и проверкой кода 
перед коммитами (`husky` + `lint-staged`), можно создать
выполнив следующую последовательность команд в терминале:

```
npm init -y
npm i -D typescript jest ts-jest @types/jestnpm  @types/jest @jest/globals husky
npm pkg set scripts.build="tsc"
npm pkg set scripts.test="jest"
npm pkg set scripts.postinstall="npx tsc --init && npx ts-jest config:init && git init && ./node_modules/.bin/husky install && npx husky add .husky/pre-commit 'npm test' && git add . && git commit -am first"
npm run postinstall
```

## Установка шаблона

То же самое можно выполнить с помощью одной команды:

```
npx @yababay67/modern-setup <my-app>
```

Замените `<my-app>` именем директории (папки),
в которой будет вестить разработка. После установки 
следует отредактировать `pachage.json`, вписав название проекта,
автора, лицензию, версию и т.п.

## Что входит в состав

В шаблоне настроены:

* возможность писать код на TypeScript с проверкой типов;
* юнит-тестирование средствами `Jest` без проблем с подсветкой синтаксиса;
* проверка кода на добротность (`jest + eslint`) перед коммитом; для этого
    использованы возможности пакета `husky`.

## Испортить и починить

Чтобы увидеть, как данная система следит за качеством кода, 
можно выполнить команду. Тесты перестанут проходить и будет
невозможно сделать коммит, не изменив настройки.

```
npm run spoil
```

Чтобы вернуть проект в работоспособное состояние, выполните

```
npm run repair
```

## Пользователям `Windows`

Данный проект тестировался в среде `Linux`. Пользователи `Windows`
могут самостоятельно подправить скрипты, если это необходимо.

